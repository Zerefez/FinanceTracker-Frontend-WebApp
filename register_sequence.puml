@startuml Register Sequence Diagram

!define FONT_SIZE 12
skinparam defaultFontSize $FONT_SIZE
skinparam sequenceMessageAlign center

title "Register Component Sequence Diagram"

actor User
participant RegisterPage
participant Register
participant authService
participant apiService

== Registration Flow ==

User -> RegisterPage: User presses "Register"

group Registration Form Submission
    User -> Register: Fill in form & submit
    activate Register
    Register -> Register: handleSubmit()
    Register -> Register: validateForm()
    
    alt Invalid Form
        Register --> User: Show error message
    else Valid Form
        Register -> authService: register(email, password, fullName)
        activate authService
        
        authService -> apiService: post('/Accounts/register', data)
        activate apiService
        
        apiService -> apiService: request('/Accounts/register', options)
        
        alt Successful Request
            apiService --> authService: Response
            authService --> Register: {success: true, message: string}
            Register -> Register: setSuccess(true)
            Register --> User: Show success message\n"Registration successful! You can now log in."
            
            User -> Register: Click "Login"
            Register -> RegisterPage: navigate('/login')
        else Failed Request
            apiService --> authService: Throw error
            authService --> Register: Throw error
            Register -> Register: setError(error.message)
            Register --> User: Show error message
        end
        
        deactivate apiService
        deactivate authService
    end
    
    deactivate Register
end

@enduml 